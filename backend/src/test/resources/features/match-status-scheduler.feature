# language: ko
기능: 경기 상태 자동 변경
  시스템으로서
  시작 시간이 지난 경기는 IN_PROGRESS로,
  종료 시간이 지난 경기는 ENDED로 자동 변경한다

  배경:
    먼저 사용자가 회원가입되어 있다
    그리고 사용자가 로그인되어 있다

  시나리오: 시작 시간이 지난 경기가 IN_PROGRESS로 변경된다
    먼저 시작 시간이 지난 PENDING 경기가 있다
    만일 경기 상태 업데이트가 실행된다
    그러면 해당 경기의 상태가 IN_PROGRESS 이다

  시나리오: 종료 시간이 지난 경기가 ENDED로 변경된다
    먼저 종료 시간이 지난 IN_PROGRESS 경기가 있다
    만일 경기 상태 업데이트가 실행된다
    그러면 해당 경기의 상태가 ENDED 이다

  시나리오: CANCELLED 경기는 상태가 변경되지 않는다
    먼저 시작 시간이 지난 CANCELLED 경기가 있다
    만일 경기 상태 업데이트가 실행된다
    그러면 해당 경기의 상태가 CANCELLED 이다

  시나리오: 아직 시작 시간이 되지 않은 경기는 변경되지 않는다
    먼저 시작 시간이 되지 않은 PENDING 경기가 있다
    만일 경기 상태 업데이트가 실행된다
    그러면 해당 경기의 상태가 PENDING 이다

  # 멱등성 테스트: 같은 작업을 여러 번 수행해도 결과가 동일해야 한다
  시나리오: 경기 상태 업데이트는 멱등하다 - 여러 번 실행해도 결과가 동일
    먼저 시작 시간이 지난 PENDING 경기가 있다
    만일 경기 상태 업데이트가 실행된다
    그러면 해당 경기의 상태가 IN_PROGRESS 이다
    만일 경기 상태 업데이트가 다시 실행된다
    그러면 해당 경기의 상태가 IN_PROGRESS 이다
    그리고 경기 상태 변경 횟수가 1회 이다

  시나리오: 종료 상태 업데이트도 멱등하다
    먼저 종료 시간이 지난 IN_PROGRESS 경기가 있다
    만일 경기 상태 업데이트가 실행된다
    그러면 해당 경기의 상태가 ENDED 이다
    만일 경기 상태 업데이트가 다시 실행된다
    그러면 해당 경기의 상태가 ENDED 이다
