# language: ko
기능: 취소 시간 제한
  경기 시작 2시간 전까지만 취소가 가능하다

  배경:
    먼저 사용자가 회원가입되어 있다
    그리고 사용자가 로그인되어 있다
    그리고 장소가 등록되어 있다

  # 호스트 취소 시간 제한
  시나리오: 호스트가 경기 시작 2시간 이상 전에 취소 성공
    먼저 3시간 후에 시작하는 내 경기가 있다
    만일 취소 사유 "개인 사정"으로 경기 취소 API를 호출한다
    그러면 응답 상태 코드는 204 이다

  시나리오: 호스트가 경기 시작 2시간 이내에 취소 시도
    먼저 1시간 후에 시작하는 내 경기가 있다
    만일 취소 사유 "개인 사정"으로 경기 취소 API를 호출한다
    그러면 응답 상태 코드는 400 이다
    그리고 응답 에러 코드가 "CANCEL_TIME_EXCEEDED" 이다

  시나리오: 호스트가 취소 사유 없이 경기 취소 시도
    먼저 3시간 후에 시작하는 내 경기가 있다
    만일 취소 사유 없이 경기 취소 API를 호출한다
    그러면 응답 상태 코드는 400 이다
    그리고 응답 에러 코드가 "CANCEL_REASON_REQUIRED" 이다

  # 참가자 취소 시간 제한
  시나리오: 참가자가 경기 시작 2시간 이상 전에 참가 취소 성공
    먼저 3시간 후에 시작하는 다른 사용자의 경기가 있다
    그리고 내가 해당 경기에 참가 승인된 상태이다
    만일 해당 경기 참가 취소 API를 호출한다
    그러면 응답 상태 코드는 204 이다

  시나리오: 참가자가 경기 시작 2시간 이내에 참가 취소 시도
    먼저 1시간 후에 시작하는 다른 사용자의 경기가 있다
    그리고 내가 해당 경기에 참가 승인된 상태이다
    만일 해당 경기 참가 취소 API를 호출한다
    그러면 응답 상태 코드는 400 이다
    그리고 응답 에러 코드가 "CANCEL_TIME_EXCEEDED" 이다
