# 유비쿼터스 언어 사용 가이드 (Communication Guide)

> 이 문서는 **팀이 같은 언어로 대화하는 방법**을 정의합니다.

---

## 📋 금지되는 표현 vs 올바른 표현

### ❌ 데이터 관점의 표현 (금지)

```
❌ "레코드 추가"
✓ "신청 기록 추가" 또는 "신청함"

❌ "상태값 변경"
✓ "경기 상태를 RECRUITING에서 CONFIRMED로 변경"

❌ "데이터 조회"
✓ "경기 목록 조회" 또는 "내 신청 목록 보기"

❌ "값 계산"
✓ "신뢰도 점수 계산"

❌ "테이블에 INSERT"
✓ "신청 기록 생성" 또는 "신청함"

❌ "쿼리 실행"
✓ "경기를 검색하기" 또는 "신청 내역 조회"

❌ "컬럼 업데이트"
✓ "신청 상태를 CONFIRMED로 변경"
```

### ❌ 시스템 관점의 표현 (금지)

```
❌ "이벤트 처리"
✓ "신청됨 이벤트 발생 → Host에게 알림 전송"

❌ "비동기 처리"
✓ "경기가 확정되는 동안 모든 참여자에게 알림"

❌ "API 호출"
✓ "신청을 서버에 전송"

❌ "트랜잭션"
✓ "경기가 확정될 때 모든 참여자에게 알림"

❌ "캐시 갱신"
✓ "신뢰도 점수를 다시 계산"

❌ "데이터베이스 연동"
✓ "신청 정보를 저장"

❌ "스케줄러 실행"
✓ "경기 시간이 되면 자동으로 상태 변경"
```

---

## ✅ 올바른 표현 (권장)

### Match Context 관련

```
✓ "Host가 경기를 생성했다"
✓ "경기가 RECRUITING 상태다"
✓ "신청자가 4명을 채워서 경기가 CONFIRMED됐다"
✓ "경기 상태를 RECRUITING에서 CONFIRMED로 변경한다"
✓ "경기가 시간이 되어 자동으로 COMPLETED 상태가 된다"
✓ "Host가 경기를 취소했다"
✓ "같은 코트 같은 시간에는 1경기만 가능하다"
```

### Participation Context 관련

```
✓ "User가 Match에 신청했다"
✓ "Participation이 생성되었다"
✓ "신청 상태가 APPLIED다"
✓ "경기가 CONFIRMED되면 신청도 자동으로 CONFIRMED된다"
✓ "신청자가 4명이 되면 경기가 자동으로 확정된다"
✓ "신청 상태를 CONFIRMED에서 COMPLETED로 변경한다"
✓ "사용자가 경기에 참석하지 않아 NO_SHOW 상태가 됐다"
```

### User Context 관련

```
✓ "신뢰도 점수가 자동으로 계산된다"
✓ "ReputationScore가 업데이트된다"
✓ "노쇼하면 신뢰도가 -0.5점 내려간다"
✓ "사용자의 신뢰도가 2.0 이하면 자동 정지된다"
✓ "노쇼가 3회 이상이면 사용자는 정지된다"
✓ "평가를 받으면 신뢰도 점수가 재계산된다"
```

### Notification Context 관련

```
✓ "신청됨 이벤트가 발생한다"
✓ "Host에게 알림을 보낸다"
✓ "모든 참여자에게 '경기 확정' 알림을 보낸다"
✓ "PUSH와 SMS 채널로 알림을 보낸다"
✓ "사용자는 알림 설정에서 채널을 선택할 수 있다"
```

---

## 🎯 역할별 표현 방법

### 기획자/PM이 말할 때

```
✓ "사용자가 경기에 신청했어"
✓ "4명이 모이면 경기가 확정돼"
✓ "신뢰도가 낮으면 경기 못 만들어"
✓ "노쇼 3회 이상이면 정지돼"
✓ "경기 시작 1시간 전에 알림을 보내야 해"
✓ "상대방 평가는 경기 완료 후에만 가능해"

✗ "이 필드를 추가해줘"
✗ "데이터를 조회해줘"
✗ "DB를 업데이트해"
```

### 프론트엔드가 말할 때

```
✓ "신청 버튼을 클릭하면 신청 상태로 변경돼"
✓ "경기가 확정되면 UI를 업데이트해"
✓ "신뢰도가 표시되는 부분을 만들어야 해"
✓ "알림을 받기 위해 채널 설정을 추가해야 해"
✓ "상태가 COMPLETED되면 평가 버튼이 활성화돼야 해"

(기술적 디테일이 필요한 경우)
✓ "상태가 4가지니까 enum으로 관리하자"
✓ "신청 상태가 바뀔 때마다 리스너가 있어야 해"
```

### 백엔드가 말할 때

```
✓ "Participation 엔티티를 생성한다"
✓ "Match 상태를 CONFIRMED로 변경하고 모든 Participation도 자동 변경한다"
✓ "ReputationScore를 자동으로 계산한다"
✓ "경기가 확정되면 모든 참여자에게 알림을 보낸다"
✓ "노쇼 기록이 3회 이상이면 User의 상태를 정지로 변경한다"

(기술적 디테일이 필요한 경우)
✓ "Participation 레포지토리에서 사용자의 신청을 조회한다"
✓ "Transaction으로 경기 상태와 신청 상태를 동시에 변경한다"
✓ "이벤트를 발행해서 알림 서비스에 전달한다"
```

---

## 📞 실제 대화 예시

### 예시 1: 문제 발생

```
❌ 좋지 않은 대화:
A: "이 데이터가 안 들어가요"
B: "쿼리가 뭐가 문제예요?"
→ 뭔가 이상한데 뭔지 모름

✓ 올바른 대화:
A: "사용자가 경기에 신청했는데 신청 상태가 APPLIED로 저장되지 않아요"
B: "경기 상태는 RECRUITING인가요?"
A: "네, RECRUITING이 맞아요"
B: "그럼 신청이 생성되어야 하는데, 신청이 생성되지 않은 건가요?"
→ 정확히 뭐가 문제인지 파악 가능
```

### 예시 2: 요구사항 정의

```
❌ 좋지 않은 정의:
"사용자가 경기에 신청할 때 정보를 DB에 저장한다"
→ 뭘 어떻게 해야 하는지 불명확

✓ 올바른 정의:
"사용자가 경기에 신청하면:
  1. Participation 엔티티를 생성한다 (상태: APPLIED)
  2. Host에게 '신청됨' 알림을 보낸다 (채널: PUSH, IN_APP)
  3. 신청 시간을 기록한다"
→ 정확히 뭘 해야 하는지 명확함
```

### 예시 3: 코드 리뷰

```
❌ 좋지 않은 리뷰:
"이 부분이 이상한데요"
→ 뭐가 이상한지 모름

✓ 올바른 리뷰:
"경기가 CONFIRMED로 변경되면, 모든 Participation의 상태를
APPLIED에서 CONFIRMED로 변경해야 합니다.
하지만 이 코드는 상태 변경만 하고 알림을 보내지 않네요."
→ 정확히 뭐가 잘못되었는지, 어떻게 해야 하는지 명확함
```

---

## 🚨 주의사항

### 같은 개념을 여러 이름으로 부르지 말기

```
❌ 금지:
- 같은 상태를 "변경됨"과 "수정됨"이라고 부르기
- 같은 사용자를 "호스트"와 "주최자"로 섞어서 부르기
- 같은 행동을 "신청"과 "등록"으로 부르기

✓ 올바름:
- 항상 같은 용어로 일관되게 부르기
- "주최자" 또는 "Host"로 통일 (정하고 지키기)
- 필요하면 용어 사전에 추가하기
```

### 문맥에 맞게 표현하기

```
비즈니스 회의:
  ✓ "경기가 확정되면 모두에게 알림을 보내요"
  ✗ "Match 상태를 CONFIRMED로 변경하면 모든 Participation도 변경돼요"

개발 회의:
  ✓ "Match 상태를 CONFIRMED로 변경하면 모든 Participation도 변경된다"
  ✓ "Participation 레포지토리에서 userId로 신청들을 조회한다"

코드:
  ✓ 변수명: matchStatus, participationStatus
  ✓ 메서드명: confirmMatch(), changeParticipationStatus()
```

---

## 📋 팀 규칙 수립

### 팀이 정해야 할 것

```
1. 언어 선택
   □ 한글/영문 혼용? 전부 한글? 전부 영문?
   □ 경기(Match)와 매치(Match)? 통일하기

2. 약자 사용
   □ "신청"으로 할 것? "APP"로 할 것?
   □ 정하고 팀원 모두에게 공유

3. 회의 문화
   □ "용어 사전 확인하고 시작하기"
   □ 다른 표현 사용 시 자동 수정 (티내지 않게)

4. 코드 리뷰
   □ 변수명/메서드명이 용어 사전을 따르는지 확인
   □ 비즈니스 로직이 용어 사전의 규칙을 따르는지 확인

5. 문서화
   □ PR, 커밋 메시지도 용어 사전 기준으로
   □ 새 개념이 생기면 용어 사전에 추가
```

---

## ✅ 체크리스트

### 개인 체크리스트

```
□ 용어 사전을 읽었는가?
□ 금지되는 표현을 알고 있는가?
□ 올바른 표현을 연습했는가?
□ 비즈니스 회의와 개발 회의의 표현을 구분할 수 있는가?
□ 같은 개념을 여러 이름으로 부르지 않도록 주의하는가?
```

### 팀 체크리스트

```
□ 모든 팀원이 용어 사전을 읽었는가?
□ 팀이 정한 표현 규칙이 있는가?
□ 회의 시작 전에 "용어 확인"을 한 적이 있는가?
□ 코드 리뷰에서 용어를 체크하는가?
□ 새 개념이 생기면 용어 사전에 추가하는가?
□ PR/커밋 메시지가 용어 사전을 따르는가?
```

---

## 📚 참고: 용어 사전으로 돌아가기

이 문서에서:
- **용어를 찾으려면**: `1_glossary.md` 보기
- **규칙을 확인하려면**: `2_business_rules.md` 보기
- **상태를 이해하려면**: `3_state_diagrams.md` 보기
- **개념을 비교하려면**: `4_concept_guide.md` 보기

---

**이 가이드를 따르면, 팀 전체가 같은 언어로 대화할 수 있습니다!**