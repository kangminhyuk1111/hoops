<mxfile host="app.diagrams.net" agent="Claude Code" version="29.3.0">
  <diagram name="Hoops Architecture" id="hoops-arch-v2">
    <mxGraphModel dx="2000" dy="1200" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2200" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Hoops - ë†êµ¬ ë§¤ì¹­ ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a1a1a;" vertex="1" parent="1">
          <mxGeometry x="800" y="20" width="400" height="40" as="geometry" />
        </mxCell>

        <!-- AWS Cloud -->
        <mxCell id="aws-cloud" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud;strokeColor=#232F3E;fillColor=#F8F8F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="120" y="80" width="1960" height="1280" as="geometry" />
        </mxCell>

        <!-- AWS Label -->
        <mxCell id="aws-label" value="â˜ï¸ AWS Cloud (ap-northeast-2)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#FF9900;" vertex="1" parent="aws-cloud">
          <mxGeometry x="40" y="10" width="300" height="30" as="geometry" />
        </mxCell>

        <!-- VPC -->
        <mxCell id="vpc" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc2;strokeColor=#8C4FFF;fillColor=#F5F1FF;verticalAlign=top;align=left;spacingLeft=30;fontColor=#AAB7B8;dashed=0;strokeWidth=2;" vertex="1" parent="aws-cloud">
          <mxGeometry x="40" y="60" width="1880" height="1180" as="geometry" />
        </mxCell>

        <!-- VPC Label -->
        <mxCell id="vpc-label" value="ðŸ”’ VPC (10.0.0.0/16)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#8C4FFF;" vertex="1" parent="vpc">
          <mxGeometry x="40" y="10" width="200" height="25" as="geometry" />
        </mxCell>

        <!-- Public Subnet -->
        <mxCell id="public-subnet" value="" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_subnet;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;strokeWidth=2;" vertex="1" parent="vpc">
          <mxGeometry x="40" y="50" width="1800" height="1100" as="geometry" />
        </mxCell>

        <!-- Subnet Label -->
        <mxCell id="subnet-label" value="ðŸŒ Public Subnet (10.0.1.0/24)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#248814;" vertex="1" parent="public-subnet">
          <mxGeometry x="40" y="8" width="250" height="25" as="geometry" />
        </mxCell>

        <!-- Internet Gateway -->
        <mxCell id="igw" value="Internet&#xa;Gateway" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" vertex="1" parent="public-subnet">
          <mxGeometry x="40" y="60" width="60" height="60" as="geometry" />
        </mxCell>

        <!-- Elastic IP -->
        <mxCell id="eip" value="Elastic IP&#xa;(ê³ ì • IP)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elastic_ip_address;" vertex="1" parent="public-subnet">
          <mxGeometry x="140" y="65" width="50" height="50" as="geometry" />
        </mxCell>

        <!-- EC2 Instance -->
        <mxCell id="ec2-group" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FF9800;strokeWidth=3;dashed=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="240" y="50" width="1520" height="1020" as="geometry" />
        </mxCell>

        <!-- EC2 Label -->
        <mxCell id="ec2-label" value="ðŸ–¥ï¸ EC2 Instance (t3.medium / Amazon Linux 2023)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#FF6D00;" vertex="1" parent="public-subnet">
          <mxGeometry x="260" y="58" width="400" height="25" as="geometry" />
        </mxCell>

        <!-- Docker Environment -->
        <mxCell id="docker-env" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#2196F3;strokeWidth=2;dashed=1;dashPattern=8 8;" vertex="1" parent="public-subnet">
          <mxGeometry x="260" y="95" width="1480" height="955" as="geometry" />
        </mxCell>

        <!-- Docker Label -->
        <mxCell id="docker-label" value="ðŸ³ Docker Compose Environment" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="public-subnet">
          <mxGeometry x="280" y="103" width="280" height="22" as="geometry" />
        </mxCell>

        <!-- ========== CLIENT SECTION ========== -->
        <mxCell id="client-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#607D8B;strokeWidth=2;" vertex="1" parent="public-subnet">
          <mxGeometry x="280" y="140" width="160" height="180" as="geometry" />
        </mxCell>
        <mxCell id="client-title" value="ðŸ‘¤ Client" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#37474F;" vertex="1" parent="public-subnet">
          <mxGeometry x="280" y="148" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="mobile" value="ðŸ“± Mobile App" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#90A4AE;strokeWidth=1;fontSize=12;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="300" y="185" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="web" value="ðŸŒ Web Browser" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#90A4AE;strokeWidth=1;fontSize=12;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="300" y="235" width="120" height="40" as="geometry" />
        </mxCell>

        <!-- ========== FRONTEND ========== -->
        <mxCell id="frontend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;strokeWidth=2;" vertex="1" parent="public-subnet">
          <mxGeometry x="500" y="140" width="160" height="180" as="geometry" />
        </mxCell>
        <mxCell id="frontend-title" value="ðŸŽ¨ Frontend" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#2E7D32;" vertex="1" parent="public-subnet">
          <mxGeometry x="500" y="148" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="nextjs" value="Next.js 14&#xa;:3000" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#388E3C;strokeWidth=2;fontColor=#FFFFFF;fontSize=12;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="520" y="185" width="120" height="55" as="geometry" />
        </mxCell>
        <mxCell id="react" value="React + TailwindCSS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#66BB6A;strokeWidth=1;fontSize=11;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="520" y="250" width="120" height="35" as="geometry" />
        </mxCell>

        <!-- ========== BACKEND (Spring Boot) ========== -->
        <mxCell id="backend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF9800;strokeWidth=2;" vertex="1" parent="public-subnet">
          <mxGeometry x="720" y="140" width="700" height="500" as="geometry" />
        </mxCell>
        <mxCell id="backend-title" value="âš™ï¸ Backend - Spring Boot 3.x (:8080)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#E65100;" vertex="1" parent="public-subnet">
          <mxGeometry x="740" y="148" width="300" height="25" as="geometry" />
        </mxCell>

        <!-- API Gateway Layer -->
        <mxCell id="api-layer" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#5C6BC0;strokeWidth=1;dashed=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="740" y="180" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="api-title" value="ðŸšª API Layer" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#3F51B5;" vertex="1" parent="public-subnet">
          <mxGeometry x="740" y="185" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="jwt-filter" value="JWT Filter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7986CB;strokeColor=#3F51B5;strokeWidth=1;fontColor=#FFFFFF;fontSize=11;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="755" y="210" width="75" height="35" as="geometry" />
        </mxCell>
        <mxCell id="rate-limiter" value="Rate Limiter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7986CB;strokeColor=#3F51B5;strokeWidth=1;fontColor=#FFFFFF;fontSize=11;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="755" y="255" width="75" height="35" as="geometry" />
        </mxCell>
        <mxCell id="controller" value="Controllers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7986CB;strokeColor=#3F51B5;strokeWidth=1;fontColor=#FFFFFF;fontSize=11;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="850" y="210" width="75" height="80" as="geometry" />
        </mxCell>

        <!-- Domain Services -->
        <mxCell id="domain-layer" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFDE7;strokeColor=#FBC02D;strokeWidth=1;dashed=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="960" y="180" width="440" height="280" as="geometry" />
        </mxCell>
        <mxCell id="domain-title" value="ðŸ“¦ Domain Services (Hexagonal Architecture)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#F57F17;" vertex="1" parent="public-subnet">
          <mxGeometry x="960" y="185" width="440" height="20" as="geometry" />
        </mxCell>

        <!-- Domain boxes -->
        <mxCell id="auth-svc" value="Auth&#xa;íšŒì›ê´€ë¦¬" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9E9E9E;strokeColor=#616161;strokeWidth=2;fontColor=#FFFFFF;fontSize=11;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="980" y="215" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="match-svc" value="Match&#xa;ê²½ê¸°ê´€ë¦¬" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF5350;strokeColor=#C62828;strokeWidth=2;fontColor=#FFFFFF;fontSize=11;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="1085" y="215" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="part-svc" value="Participation&#xa;ì°¸ê°€ê´€ë¦¬" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#42A5F5;strokeColor=#1565C0;strokeWidth=2;fontColor=#FFFFFF;fontSize=11;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="1190" y="215" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="location-svc" value="Location&#xa;ìž¥ì†Œê´€ë¦¬" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#2E7D32;strokeWidth=2;fontColor=#FFFFFF;fontSize=11;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="1295" y="215" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="user-svc" value="User&#xa;í”„ë¡œí•„" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#AB47BC;strokeColor=#6A1B9A;strokeWidth=2;fontColor=#FFFFFF;fontSize=11;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="980" y="280" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="noti-svc" value="Notification&#xa;ì•Œë¦¼" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCA28;strokeColor=#F9A825;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="1085" y="280" width="90" height="50" as="geometry" />
        </mxCell>

        <!-- Scheduler -->
        <mxCell id="scheduler-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#E91E63;strokeWidth=1;dashed=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="1190" y="280" width="195" height="50" as="geometry" />
        </mxCell>
        <mxCell id="scheduler" value="â° Scheduler (ShedLock)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#C2185B;" vertex="1" parent="public-subnet">
          <mxGeometry x="1195" y="290" width="185" height="30" as="geometry" />
        </mxCell>

        <!-- Redis GeoHash Flow Box -->
        <mxCell id="geo-flow-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#F44336;strokeWidth=2;dashed=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="980" y="345" width="405" height="100" as="geometry" />
        </mxCell>
        <mxCell id="geo-flow-title" value="ðŸ“ Redis GeoHash ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ íë¦„" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#C62828;" vertex="1" parent="public-subnet">
          <mxGeometry x="990" y="350" width="250" height="20" as="geometry" />
        </mxCell>
        <mxCell id="geo-step1" value="1. ê²½ê¸°ìƒì„±&#xa;ì´ë²¤íŠ¸ ë°œí–‰" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E57373;strokeWidth=1;fontSize=10;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="995" y="375" width="80" height="55" as="geometry" />
        </mxCell>
        <mxCell id="geo-step2" value="2. Commit í›„&#xa;Listener ì‹¤í–‰" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E57373;strokeWidth=1;fontSize=10;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="1090" y="375" width="80" height="55" as="geometry" />
        </mxCell>
        <mxCell id="geo-step3" value="3. GEOADD&#xa;Redis ì €ìž¥" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E57373;strokeWidth=1;fontSize=10;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="1185" y="375" width="80" height="55" as="geometry" />
        </mxCell>
        <mxCell id="geo-step4" value="4. GEORADIUS&#xa;ë°˜ê²½ ê²€ìƒ‰" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E57373;strokeWidth=1;fontSize=10;fontStyle=0;" vertex="1" parent="public-subnet">
          <mxGeometry x="1280" y="375" width="90" height="55" as="geometry" />
        </mxCell>
        <!-- Geo flow arrows -->
        <mxCell id="geo-arr1" edge="1" parent="public-subnet" source="geo-step1" target="geo-step2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#E57373;endArrow=classic;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="geo-arr2" edge="1" parent="public-subnet" source="geo-step2" target="geo-step3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#E57373;endArrow=classic;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="geo-arr3" edge="1" parent="public-subnet" source="geo-step3" target="geo-step4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#E57373;endArrow=classic;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Port/Adapter note -->
        <mxCell id="hex-note" value="Port/Adapter Pattern&#xa;@TransactionalEventListener" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=2;fontColor=#757575;" vertex="1" parent="public-subnet">
          <mxGeometry x="740" y="310" width="200" height="30" as="geometry" />
        </mxCell>

        <!-- ========== INFRASTRUCTURE ========== -->
        <mxCell id="infra-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#607D8B;strokeWidth=2;" vertex="1" parent="public-subnet">
          <mxGeometry x="280" y="660" width="1140" height="360" as="geometry" />
        </mxCell>
        <mxCell id="infra-title" value="ðŸ—„ï¸ Infrastructure Layer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#455A64;" vertex="1" parent="public-subnet">
          <mxGeometry x="300" y="668" width="200" height="25" as="geometry" />
        </mxCell>

        <!-- MySQL -->
        <mxCell id="mysql-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;" vertex="1" parent="public-subnet">
          <mxGeometry x="300" y="705" width="240" height="290" as="geometry" />
        </mxCell>
        <mxCell id="mysql-icon" value="MySQL 8.0&#xa;:3306" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#2196F3;strokeColor=#1565C0;strokeWidth=2;fontColor=#FFFFFF;fontSize=13;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="355" y="720" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mysql-tables" value="Tables:&#xa;â€¢ users&#xa;â€¢ matches&#xa;â€¢ participations&#xa;â€¢ locations&#xa;â€¢ notifications&#xa;â€¢ auth_accounts&#xa;â€¢ shedlock" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#37474F;" vertex="1" parent="public-subnet">
          <mxGeometry x="320" y="810" width="140" height="130" as="geometry" />
        </mxCell>

        <!-- Redis -->
        <mxCell id="redis-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#E53935;strokeWidth=2;" vertex="1" parent="public-subnet">
          <mxGeometry x="560" y="705" width="240" height="290" as="geometry" />
        </mxCell>
        <mxCell id="redis-icon" value="Redis 7&#xa;:6379" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#F44336;strokeColor=#C62828;strokeWidth=2;fontColor=#FFFFFF;fontSize=13;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="615" y="720" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="redis-features" value="Features:&#xa;â€¢ GeoHash (matches:geo)&#xa;  - GEOADD&#xa;  - GEORADIUS&#xa;  - Pipeline bulk ops&#xa;â€¢ Session Cache&#xa;â€¢ Rate Limiting" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#37474F;" vertex="1" parent="public-subnet">
          <mxGeometry x="580" y="810" width="160" height="130" as="geometry" />
        </mxCell>

        <!-- External APIs -->
        <mxCell id="external-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FFC107;strokeWidth=2;" vertex="1" parent="public-subnet">
          <mxGeometry x="1120" y="705" width="280" height="150" as="geometry" />
        </mxCell>
        <mxCell id="external-title" value="ðŸ”— External Services" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#FF8F00;" vertex="1" parent="public-subnet">
          <mxGeometry x="1120" y="713" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kakao-oauth" value="Kakao OAuth&#xa;(ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#FBC02D;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="1145" y="745" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kakao-map" value="Kakao Map API&#xa;(ìž¥ì†Œ ê²€ìƒ‰)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#FBC02D;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="1270" y="745" width="110" height="50" as="geometry" />
        </mxCell>

        <!-- ========== FLOW ARROWS ========== -->
        <!-- Client to Frontend -->
        <mxCell id="arr-client-fe" edge="1" parent="public-subnet" source="client-box" target="frontend-box" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#4CAF50;endArrow=classic;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arr-client-fe-label" value="HTTPS" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#2E7D32;fontStyle=1;" vertex="1" connectable="0" parent="arr-client-fe">
          <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- Frontend to Backend -->
        <mxCell id="arr-fe-be" edge="1" parent="public-subnet" source="frontend-box" target="api-layer" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#FF9800;endArrow=classic;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arr-fe-be-label" value="REST API" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#E65100;fontStyle=1;" vertex="1" connectable="0" parent="arr-fe-be">
          <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- Backend to MySQL -->
        <mxCell id="arr-be-mysql" edge="1" parent="public-subnet" source="domain-layer" target="mysql-box" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1976D2;endArrow=classic;entryX=0.5;entryY=0;exitX=0.2;exitY=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1048" y="480" />
              <mxPoint x="420" y="480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arr-be-mysql-label" value="JPA" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#1565C0;fontStyle=1;" vertex="1" connectable="0" parent="arr-be-mysql">
          <mxGeometry x="0.3" relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- Backend to Redis -->
        <mxCell id="arr-be-redis" edge="1" parent="public-subnet" source="geo-flow-box" target="redis-box" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#E53935;endArrow=classic;dashed=0;entryX=0.5;entryY=0;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1183" y="500" />
              <mxPoint x="680" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arr-be-redis-label" value="GeoHash" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#C62828;fontStyle=1;" vertex="1" connectable="0" parent="arr-be-redis">
          <mxGeometry x="0.3" relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- Auth to Kakao -->
        <mxCell id="arr-auth-kakao" edge="1" parent="public-subnet" source="auth-svc" target="kakao-oauth" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FBC02D;endArrow=classic;startArrow=classic;entryX=0.5;entryY=0;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1025" y="560" />
              <mxPoint x="1200" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arr-auth-kakao-label" value="OAuth 2.0" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#F57F17;fontStyle=1;" vertex="1" connectable="0" parent="arr-auth-kakao">
          <mxGeometry x="-0.2" relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- IGW to EIP -->
        <mxCell id="arr-igw-eip" edge="1" parent="public-subnet" source="igw" target="eip" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#8C4FFF;endArrow=classic;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- EIP to EC2 -->
        <mxCell id="arr-eip-ec2" edge="1" parent="public-subnet" source="eip" target="ec2-group" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9800;endArrow=classic;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== LEGEND ========== -->
        <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#BDBDBD;strokeWidth=1;" vertex="1" parent="public-subnet">
          <mxGeometry x="1440" y="140" width="300" height="500" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="ðŸ“‹ Legend" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#424242;" vertex="1" parent="public-subnet">
          <mxGeometry x="1440" y="148" width="300" height="25" as="geometry" />
        </mxCell>

        <!-- Legend items -->
        <mxCell id="leg-line1" edge="1" parent="public-subnet" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#4CAF50;rounded=0;">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1460" y="200" as="sourcePoint" />
            <mxPoint x="1520" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text1" value="Client â†’ Frontend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="public-subnet">
          <mxGeometry x="1535" y="190" width="150" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg-line2" edge="1" parent="public-subnet" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#FF9800;rounded=0;">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1460" y="235" as="sourcePoint" />
            <mxPoint x="1520" y="235" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text2" value="REST API í˜¸ì¶œ" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="public-subnet">
          <mxGeometry x="1535" y="225" width="150" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg-line3" edge="1" parent="public-subnet" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#1976D2;rounded=0;">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1460" y="270" as="sourcePoint" />
            <mxPoint x="1520" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text3" value="DB ì—°ê²° (JPA)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="public-subnet">
          <mxGeometry x="1535" y="260" width="150" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg-line4" edge="1" parent="public-subnet" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#E53935;rounded=0;">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1460" y="305" as="sourcePoint" />
            <mxPoint x="1520" y="305" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text4" value="Redis GeoHash" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="public-subnet">
          <mxGeometry x="1535" y="295" width="150" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg-line5" edge="1" parent="public-subnet" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#FBC02D;rounded=0;">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1460" y="340" as="sourcePoint" />
            <mxPoint x="1520" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text5" value="OAuth ì—°ë™" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="public-subnet">
          <mxGeometry x="1535" y="330" width="150" height="20" as="geometry" />
        </mxCell>

        <!-- Tech Stack section in legend -->
        <mxCell id="leg-divider" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=#BDBDBD;" vertex="1" parent="public-subnet">
          <mxGeometry x="1455" y="400" width="270" height="10" as="geometry" />
        </mxCell>

        <mxCell id="leg-stack-title" value="Tech Stack" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#424242;" vertex="1" parent="public-subnet">
          <mxGeometry x="1440" y="415" width="300" height="20" as="geometry" />
        </mxCell>

        <mxCell id="leg-stack" value="â€¢ Backend: Java 17, Spring Boot 3.x&#xa;â€¢ Frontend: Next.js 14, React, TailwindCSS&#xa;â€¢ Database: MySQL 8.0&#xa;â€¢ Cache: Redis 7 (GeoHash)&#xa;â€¢ Infra: AWS EC2, Terraform&#xa;â€¢ Container: Docker Compose&#xa;â€¢ Test: JUnit 5, Cucumber, Testcontainers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#616161;" vertex="1" parent="public-subnet">
          <mxGeometry x="1460" y="440" width="260" height="130" as="geometry" />
        </mxCell>

        <!-- Security Group info -->
        <mxCell id="sg-note" value="ðŸ” Security Group&#xa;Inbound: 22, 80, 443, 3000, 8080" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=0;fontColor=#607D8B;" vertex="1" parent="public-subnet">
          <mxGeometry x="1120" y="870" width="200" height="35" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
