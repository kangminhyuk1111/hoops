<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.3.2">
  <diagram name="Hoops Architecture" id="hoops-arch-v2">
    <mxGraphModel dx="2852" dy="1822" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2800" pageHeight="1800" background="#FFFFFF" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1;fontColor=#1a1a1a;" value="Hoops - 농구 매칭 서비스 아키텍처" vertex="1">
          <mxGeometry height="50" width="600" x="900" y="30" as="geometry" />
        </mxCell>

        <!-- Legend Box - Outside AWS -->
        <mxCell id="legend-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#424242;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="480" width="340" x="2350" y="120" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#212121;" value="Legend" vertex="1">
          <mxGeometry height="35" width="340" x="2350" y="130" as="geometry" />
        </mxCell>
        <mxCell id="leg-line1" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=4;strokeColor=#4CAF50;rounded=0;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="2380" y="195" as="sourcePoint" />
            <mxPoint x="2460" y="195" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text1" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#212121;" value="Client → Frontend" vertex="1">
          <mxGeometry height="30" width="180" x="2480" y="180" as="geometry" />
        </mxCell>
        <mxCell id="leg-line2" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=4;strokeColor=#FF9800;rounded=0;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="2380" y="245" as="sourcePoint" />
            <mxPoint x="2460" y="245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#212121;" value="REST API 호출" vertex="1">
          <mxGeometry height="30" width="180" x="2480" y="230" as="geometry" />
        </mxCell>
        <mxCell id="leg-line3" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=4;strokeColor=#1976D2;rounded=0;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="2380" y="295" as="sourcePoint" />
            <mxPoint x="2460" y="295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text3" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#212121;" value="DB 연결 (JPA)" vertex="1">
          <mxGeometry height="30" width="180" x="2480" y="280" as="geometry" />
        </mxCell>
        <mxCell id="leg-line4" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=4;strokeColor=#E53935;rounded=0;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="2380" y="345" as="sourcePoint" />
            <mxPoint x="2460" y="345" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text4" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#212121;" value="Redis GeoHash" vertex="1">
          <mxGeometry height="30" width="180" x="2480" y="330" as="geometry" />
        </mxCell>
        <mxCell id="leg-line5" edge="1" parent="1" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=4;strokeColor=#FBC02D;rounded=0;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="2380" y="395" as="sourcePoint" />
            <mxPoint x="2460" y="395" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg-text5" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontColor=#212121;" value="OAuth 연동" vertex="1">
          <mxGeometry height="30" width="180" x="2480" y="380" as="geometry" />
        </mxCell>
        <mxCell id="leg-divider" parent="1" style="line;strokeWidth=2;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=#9E9E9E;" value="" vertex="1">
          <mxGeometry height="10" width="300" x="2370" y="430" as="geometry" />
        </mxCell>
        <mxCell id="leg-stack-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#212121;" value="Tech Stack" vertex="1">
          <mxGeometry height="30" width="340" x="2350" y="450" as="geometry" />
        </mxCell>
        <mxCell id="leg-stack" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#424242;" value="• Backend: Java 17, Spring Boot 3.x&#xa;• Frontend: Next.js 16, TailwindCSS&#xa;• Database: MySQL 8.0&#xa;• Cache: Redis 7 (GeoHash)&#xa;• Infra: AWS EC2, Terraform" vertex="1">
          <mxGeometry height="130" width="300" x="2370" y="485" as="geometry" />
        </mxCell>

        <!-- AWS Cloud -->
        <mxCell id="aws-cloud" parent="1" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud;strokeColor=#232F3E;fillColor=#FFFFFF;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="1500" width="2200" x="80" y="100" as="geometry" />
        </mxCell>
        <mxCell id="aws-label" parent="aws-cloud" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;fontColor=#FF9900;" value="AWS Cloud (ap-northeast-2)" vertex="1">
          <mxGeometry height="40" width="400" x="50" y="15" as="geometry" />
        </mxCell>

        <!-- VPC -->
        <mxCell id="vpc" parent="aws-cloud" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc2;strokeColor=#8C4FFF;fillColor=#FFFFFF;verticalAlign=top;align=left;spacingLeft=30;fontColor=#AAB7B8;dashed=0;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="1400" width="2100" x="50" y="70" as="geometry" />
        </mxCell>
        <mxCell id="vpc-label" parent="vpc" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#8C4FFF;" value="VPC (10.0.0.0/16)" vertex="1">
          <mxGeometry height="35" width="280" x="50" y="15" as="geometry" />
        </mxCell>

        <!-- Public Subnet -->
        <mxCell id="public-subnet" parent="vpc" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_subnet;strokeColor=#248814;fillColor=#FFFFFF;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="1300" width="2000" x="50" y="70" as="geometry" />
        </mxCell>
        <mxCell id="subnet-label" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#248814;" value="Public Subnet (10.0.1.0/24)" vertex="1">
          <mxGeometry height="35" width="350" x="50" y="12" as="geometry" />
        </mxCell>

        <!-- Internet Gateway -->
        <mxCell id="igw" parent="public-subnet" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=16;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" value="Internet&#xa;Gateway" vertex="1">
          <mxGeometry height="80" width="80" x="50" y="80" as="geometry" />
        </mxCell>

        <!-- Elastic IP -->
        <mxCell id="eip" parent="public-subnet" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=16;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elastic_ip_address;" value="Elastic IP&#xa;(고정 IP)" vertex="1">
          <mxGeometry height="70" width="70" x="180" y="85" as="geometry" />
        </mxCell>

        <!-- EC2 Instance -->
        <mxCell id="ec2-group" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FF9800;strokeWidth=4;dashed=0;" value="" vertex="1">
          <mxGeometry height="1150" width="1650" x="300" y="60" as="geometry" />
        </mxCell>
        <mxCell id="ec2-label" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#FF6D00;" value="EC2 Instance (t3.medium / Amazon Linux 2023)" vertex="1">
          <mxGeometry height="35" width="550" x="330" y="75" as="geometry" />
        </mxCell>

        <!-- Docker Environment -->
        <mxCell id="docker-env" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#2196F3;strokeWidth=3;dashed=1;dashPattern=12 8;" value="" vertex="1">
          <mxGeometry height="1060" width="1600" x="325" y="125" as="geometry" />
        </mxCell>
        <mxCell id="docker-label" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#1976D2;" value="Docker Compose Environment" vertex="1">
          <mxGeometry height="30" width="350" x="350" y="135" as="geometry" />
        </mxCell>

        <!-- Client Box -->
        <mxCell id="client-box" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#607D8B;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="220" width="200" x="360" y="190" as="geometry" />
        </mxCell>
        <mxCell id="client-title" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#37474F;" value="Client" vertex="1">
          <mxGeometry height="35" width="200" x="360" y="200" as="geometry" />
        </mxCell>
        <mxCell id="mobile" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#78909C;strokeWidth=2;fontSize=16;fontStyle=0;" value="Mobile App" vertex="1">
          <mxGeometry height="50" width="160" x="380" y="250" as="geometry" />
        </mxCell>
        <mxCell id="web" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#78909C;strokeWidth=2;fontSize=16;fontStyle=0;" value="Web Browser" vertex="1">
          <mxGeometry height="50" width="160" x="380" y="320" as="geometry" />
        </mxCell>

        <!-- Frontend Box -->
        <mxCell id="frontend-box" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="220" width="200" x="620" y="190" as="geometry" />
        </mxCell>
        <mxCell id="frontend-title" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#2E7D32;" value="Frontend" vertex="1">
          <mxGeometry height="35" width="200" x="620" y="200" as="geometry" />
        </mxCell>
        <mxCell id="nextjs" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=3;fontColor=#FFFFFF;fontSize=18;fontStyle=1;" value="Next.js 16&#xa;:3000" vertex="1">
          <mxGeometry height="70" width="160" x="640" y="250" as="geometry" />
        </mxCell>
        <mxCell id="react" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#66BB6A;strokeWidth=2;fontSize=14;fontStyle=0;" value="React + TailwindCSS" vertex="1">
          <mxGeometry height="45" width="160" x="640" y="335" as="geometry" />
        </mxCell>

        <!-- Backend Box -->
        <mxCell id="backend-box" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF9800;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="560" width="800" x="880" y="190" as="geometry" />
        </mxCell>
        <mxCell id="backend-title" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#E65100;" value="Backend - Spring Boot 3.x (:8080)" vertex="1">
          <mxGeometry height="35" width="400" x="910" y="200" as="geometry" />
        </mxCell>

        <!-- API Layer -->
        <mxCell id="api-layer" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#5C6BC0;strokeWidth=2;dashed=1;" value="" vertex="1">
          <mxGeometry height="160" width="220" x="910" y="250" as="geometry" />
        </mxCell>
        <mxCell id="api-title" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#3F51B5;" value="API Layer" vertex="1">
          <mxGeometry height="30" width="220" x="910" y="258" as="geometry" />
        </mxCell>
        <mxCell id="jwt-filter" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7986CB;strokeColor=#3F51B5;strokeWidth=2;fontColor=#FFFFFF;fontSize=14;fontStyle=1;" value="JWT Filter" vertex="1">
          <mxGeometry height="45" width="90" x="930" y="295" as="geometry" />
        </mxCell>
        <mxCell id="rate-limiter" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7986CB;strokeColor=#3F51B5;strokeWidth=2;fontColor=#FFFFFF;fontSize=14;fontStyle=1;" value="Rate Limiter" vertex="1">
          <mxGeometry height="45" width="90" x="930" y="350" as="geometry" />
        </mxCell>
        <mxCell id="controller" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7986CB;strokeColor=#3F51B5;strokeWidth=2;fontColor=#FFFFFF;fontSize=14;fontStyle=1;" value="Controllers" vertex="1">
          <mxGeometry height="100" width="90" x="1030" y="295" as="geometry" />
        </mxCell>

        <!-- Domain Layer -->
        <mxCell id="domain-layer" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFDE7;strokeColor=#FBC02D;strokeWidth=2;dashed=1;" value="" vertex="1">
          <mxGeometry height="280" width="500" x="1160" y="250" as="geometry" />
        </mxCell>
        <mxCell id="domain-title" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#F57F17;" value="Domain Services (Hexagonal Architecture)" vertex="1">
          <mxGeometry height="30" width="500" x="1160" y="258" as="geometry" />
        </mxCell>

        <!-- Domain Services -->
        <mxCell id="auth-svc" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9E9E9E;strokeColor=#616161;strokeWidth=3;fontColor=#FFFFFF;fontSize=14;fontStyle=1;" value="Auth&#xa;회원관리" vertex="1">
          <mxGeometry height="60" width="110" x="1185" y="300" as="geometry" />
        </mxCell>
        <mxCell id="match-svc" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF5350;strokeColor=#C62828;strokeWidth=3;fontColor=#FFFFFF;fontSize=14;fontStyle=1;" value="Match&#xa;경기관리" vertex="1">
          <mxGeometry height="60" width="110" x="1310" y="300" as="geometry" />
        </mxCell>
        <mxCell id="part-svc" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#42A5F5;strokeColor=#1565C0;strokeWidth=3;fontColor=#FFFFFF;fontSize=14;fontStyle=1;" value="Participation&#xa;참가관리" vertex="1">
          <mxGeometry height="60" width="110" x="1435" y="300" as="geometry" />
        </mxCell>
        <mxCell id="location-svc" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#2E7D32;strokeWidth=3;fontColor=#FFFFFF;fontSize=14;fontStyle=1;" value="Location&#xa;장소관리" vertex="1">
          <mxGeometry height="60" width="110" x="1185" y="380" as="geometry" />
        </mxCell>
        <mxCell id="user-svc" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#AB47BC;strokeColor=#6A1B9A;strokeWidth=3;fontColor=#FFFFFF;fontSize=14;fontStyle=1;" value="User&#xa;프로필" vertex="1">
          <mxGeometry height="60" width="110" x="1310" y="380" as="geometry" />
        </mxCell>
        <mxCell id="noti-svc" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCA28;strokeColor=#F9A825;strokeWidth=3;fontSize=14;fontStyle=1;" value="Notification&#xa;알림" vertex="1">
          <mxGeometry height="60" width="110" x="1435" y="380" as="geometry" />
        </mxCell>

        <!-- GeoHash Flow Box -->
        <mxCell id="geo-flow-box" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#F44336;strokeWidth=3;dashed=0;" value="" vertex="1">
          <mxGeometry height="130" width="490" x="1160" y="470" as="geometry" />
        </mxCell>
        <mxCell id="geo-flow-title" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#C62828;" value="Redis GeoHash 위치 기반 검색 흐름" vertex="1">
          <mxGeometry height="25" width="300" x="1175" y="480" as="geometry" />
        </mxCell>
        <mxCell id="geo-step1" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E57373;strokeWidth=2;fontSize=12;fontStyle=1;" value="1. 경기생성&#xa;이벤트 발행" vertex="1">
          <mxGeometry height="65" width="100" x="1175" y="515" as="geometry" />
        </mxCell>
        <mxCell id="geo-step2" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E57373;strokeWidth=2;fontSize=12;fontStyle=1;" value="2. Commit 후&#xa;Listener 실행" vertex="1">
          <mxGeometry height="65" width="100" x="1290" y="515" as="geometry" />
        </mxCell>
        <mxCell id="geo-step3" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E57373;strokeWidth=2;fontSize=12;fontStyle=1;" value="3. GEOADD&#xa;Redis 저장" vertex="1">
          <mxGeometry height="65" width="100" x="1405" y="515" as="geometry" />
        </mxCell>
        <mxCell id="geo-step4" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E57373;strokeWidth=2;fontSize=12;fontStyle=1;" value="4. GEORADIUS&#xa;반경 검색" vertex="1">
          <mxGeometry height="65" width="100" x="1520" y="515" as="geometry" />
        </mxCell>

        <!-- GeoHash Flow Arrows -->
        <mxCell id="geo-arr1" edge="1" parent="public-subnet" source="geo-step1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#E57373;endArrow=classic;" target="geo-step2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="geo-arr2" edge="1" parent="public-subnet" source="geo-step2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#E57373;endArrow=classic;" target="geo-step3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="geo-arr3" edge="1" parent="public-subnet" source="geo-step3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#E57373;endArrow=classic;" target="geo-step4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Hexagonal Architecture Note -->
        <mxCell id="hex-note" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=2;fontColor=#757575;" value="Port/Adapter Pattern&#xa;@TransactionalEventListener" vertex="1">
          <mxGeometry height="40" width="220" x="910" y="420" as="geometry" />
        </mxCell>

        <!-- Infrastructure Layer -->
        <mxCell id="infra-box" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#607D8B;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="350" width="1320" x="360" y="800" as="geometry" />
        </mxCell>
        <mxCell id="infra-title" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#455A64;" value="Infrastructure Layer" vertex="1">
          <mxGeometry height="35" width="280" x="390" y="815" as="geometry" />
        </mxCell>

        <!-- MySQL Box -->
        <mxCell id="mysql-box" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="260" width="300" x="390" y="865" as="geometry" />
        </mxCell>
        <mxCell id="mysql-icon" parent="public-subnet" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=18;fillColor=#2196F3;strokeColor=#1565C0;strokeWidth=3;fontColor=#FFFFFF;fontSize=18;fontStyle=1;" value="MySQL 8.0&#xa;:3306" vertex="1">
          <mxGeometry height="90" width="180" x="450" y="885" as="geometry" />
        </mxCell>
        <mxCell id="mysql-tables" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#37474F;" value="Tables: users, matches,&#xa;participations, locations,&#xa;notifications, auth_accounts" vertex="1">
          <mxGeometry height="80" width="260" x="410" y="990" as="geometry" />
        </mxCell>

        <!-- Redis Box -->
        <mxCell id="redis-box" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#E53935;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="260" width="300" x="720" y="865" as="geometry" />
        </mxCell>
        <mxCell id="redis-icon" parent="public-subnet" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=18;fillColor=#F44336;strokeColor=#C62828;strokeWidth=3;fontColor=#FFFFFF;fontSize=18;fontStyle=1;" value="Redis 7&#xa;:6379" vertex="1">
          <mxGeometry height="90" width="180" x="780" y="885" as="geometry" />
        </mxCell>
        <mxCell id="redis-features" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#37474F;" value="GeoHash (matches:geo)&#xa;GEOADD, GEORADIUS&#xa;Pipeline bulk ops" vertex="1">
          <mxGeometry height="80" width="260" x="740" y="990" as="geometry" />
        </mxCell>

        <!-- External Services Box -->
        <mxCell id="external-box" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FFC107;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="180" width="320" x="1330" y="865" as="geometry" />
        </mxCell>
        <mxCell id="external-title" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#FF8F00;" value="External Services" vertex="1">
          <mxGeometry height="30" width="320" x="1330" y="875" as="geometry" />
        </mxCell>
        <mxCell id="kakao-oauth" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#FBC02D;strokeWidth=3;fontSize=14;fontStyle=1;" value="Kakao OAuth&#xa;(카카오 로그인)" vertex="1">
          <mxGeometry height="70" width="130" x="1360" y="920" as="geometry" />
        </mxCell>
        <mxCell id="kakao-map" parent="public-subnet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#FBC02D;strokeWidth=3;fontSize=14;fontStyle=1;" value="Kakao Map API&#xa;(장소 검색)" vertex="1">
          <mxGeometry height="70" width="130" x="1510" y="920" as="geometry" />
        </mxCell>
        <mxCell id="sg-note" parent="public-subnet" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=0;fontColor=#607D8B;" value="Security Group: Inbound 22, 80, 443, 3000, 8080" vertex="1">
          <mxGeometry height="30" width="360" x="1330" y="1065" as="geometry" />
        </mxCell>

        <!-- Connection Arrows -->
        <mxCell id="arr-client-fe" edge="1" parent="public-subnet" source="client-box" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#4CAF50;endArrow=classic;" target="frontend-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arr-client-fe-label" connectable="0" parent="arr-client-fe" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#2E7D32;fontStyle=1;" value="HTTPS" vertex="1">
          <mxGeometry relative="1" x="-0.1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arr-fe-be" edge="1" parent="public-subnet" source="frontend-box" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#FF9800;endArrow=classic;" target="api-layer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arr-fe-be-label" connectable="0" parent="arr-fe-be" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#E65100;fontStyle=1;" value="REST API" vertex="1">
          <mxGeometry relative="1" x="-0.1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arr-be-mysql" edge="1" parent="public-subnet" source="domain-layer" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#1976D2;endArrow=classic;entryX=0.5;entryY=0;exitX=0.2;exitY=1;" target="mysql-box">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1260" y="620" />
              <mxPoint x="540" y="620" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arr-be-mysql-label" connectable="0" parent="arr-be-mysql" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#1565C0;fontStyle=1;" value="JPA" vertex="1">
          <mxGeometry relative="1" x="0.3" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arr-be-redis" edge="1" parent="public-subnet" source="geo-flow-box" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#E53935;endArrow=classic;dashed=0;entryX=0.5;entryY=0;" target="redis-box">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1405" y="680" />
              <mxPoint x="870" y="680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arr-be-redis-label" connectable="0" parent="arr-be-redis" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#C62828;fontStyle=1;" value="GeoHash" vertex="1">
          <mxGeometry relative="1" x="0.3" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arr-auth-kakao" edge="1" parent="public-subnet" source="auth-svc" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#FBC02D;endArrow=classic;startArrow=classic;entryX=0.5;entryY=0;" target="kakao-oauth">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1240" y="720" />
              <mxPoint x="1425" y="720" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arr-auth-kakao-label" connectable="0" parent="arr-auth-kakao" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#F57F17;fontStyle=1;" value="OAuth 2.0" vertex="1">
          <mxGeometry relative="1" x="-0.2" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arr-igw-eip" edge="1" parent="public-subnet" source="igw" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#8C4FFF;endArrow=classic;" target="eip">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arr-eip-ec2" edge="1" parent="public-subnet" source="eip" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#FF9800;endArrow=classic;" target="ec2-group">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
